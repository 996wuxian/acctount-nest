{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/user/register":{"post":{"description":"传昵称和密码，返回分配的账号","operationId":"UserController_register","parameters":[],"requestBody":{"required":true,"description":"注册请求体","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"注册成功","content":{"application/json":{"schema":{"type":"object","properties":{"account":{"type":"integer","example":10000000}}}}}}},"summary":"注册用户","tags":["User"]}},"/user/login":{"post":{"description":"使用账号与密码登录，返回永不过期 token 和用户信息（不含密码）","operationId":"UserController_login","parameters":[],"requestBody":{"required":true,"description":"登录请求体","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDto"}}}},"responses":{"200":{"description":"登录成功","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","example":"eyJhbGciOi..."},"id":{"type":"integer","example":1},"account":{"type":"integer","example":10000000},"nickname":{"type":"string","example":"张三"},"avatar":{"type":"string","nullable":true,"example":"https://example.com/avatar.png"},"isVip":{"type":"boolean","example":false},"registerTime":{"type":"string","format":"date-time","example":"2025-10-17T08:00:00.000Z"}}}}}}},"summary":"登录","tags":["User"]}},"/user":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"创建成功"}},"summary":"创建用户（同注册）","tags":["User"]},"get":{"operationId":"UserController_findAll","parameters":[],"responses":{"200":{"description":"返回用户列表"}},"summary":"获取所有用户","tags":["User"]}},"/user/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"用户ID","schema":{"example":1,"type":"string"}}],"responses":{"200":{"description":"返回用户详情"}},"summary":"获取指定用户","tags":["User"]},"patch":{"operationId":"UserController_update","parameters":[{"name":"id","required":true,"in":"path","description":"用户ID","schema":{"example":1,"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"更新成功"}},"summary":"更新指定用户","tags":["User"]},"delete":{"operationId":"UserController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"用户ID","schema":{"example":1,"type":"string"}}],"responses":{"200":{"description":"删除成功"}},"summary":"删除指定用户","tags":["User"]}}},"info":{"title":"template-nest","description":"","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateUserDto":{"type":"object","properties":{"nickname":{"type":"string","description":"昵称","minLength":2,"maxLength":64,"example":"张三"},"password":{"type":"string","description":"密码","minLength":6,"maxLength":128,"example":"secret123"}},"required":["nickname","password"]},"LoginUserDto":{"type":"object","properties":{"account":{"type":"number","description":"账号（从 10000000 起）","minimum":10000000,"example":10000000},"password":{"type":"string","description":"密码","minLength":6,"maxLength":128,"example":"secret123"}},"required":["account","password"]},"UpdateUserDto":{"type":"object","properties":{}}}},"externalDocs":{"description":"api-json","url":"http://localhost:9528/api-json"}}